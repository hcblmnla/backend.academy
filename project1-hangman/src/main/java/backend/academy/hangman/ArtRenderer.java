package backend.academy.hangman;

import java.util.NoSuchElementException;

/**
 * Basic image renderer.
 *
 * @author alnmlbch
 */
public class ArtRenderer implements Renderer<String> {

    private static final String[] FRAMES = new String[] {
        """
           ++++++++++++++++++++++++.....
              ||      '''''+++++++++++++++
    ,                          '''+++++++++
     ,                  #            ++++++
                                        ++++
                             .          ++++
  "                                     ++++
                            ,           ++++
                                        ++++
   .                      /          <<<____>>>>>>
                               <<<<<<<<<____>>>>>>>>
      ^                     <<<<<<<<<<<<____>>>>>>>>
                                 <<<<<<<____<<<<<<<<
    ]                    =       <<<<<  ____     <<<
                                 <<<<<  ____     <<<
  .                     @ @      <<<<<  ____     <<<
  **   .                | |      <<<<<<<____<<<<<<<<
 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<____<<<<<<<<
   >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
""",
        """
           ++++++++++++++++++++++++.....
              ||      '''''+++++++++++++++
    ,         ||               '''+++++++++
     ,        ||        #            ++++++
              ||                        ++++
                             .          ++++
  "                                     ++++
                            ,           ++++
                                        ++++
   .                      /          <<<____>>>>>>
                               <<<<<<<<<____>>>>>>>>
      ^                     <<<<<<<<<<<<____>>>>>>>>
                                 <<<<<<<____<<<<<<<<
    ]                    =       <<<<<  ____     <<<
                                 <<<<<  ____     <<<
  .                     @ @      <<<<<  ____     <<<
  **   .                | |      <<<<<<<____<<<<<<<<
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<____<<<<<<<<
  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
""",
        """
           ++++++++++++++++++++++++.....
              ||      '''''+++++++++++++++
    ,         ||               '''+++++++++
     ,        ||        #            ++++++
              ||                        ++++
           /*/  \\*\\          .          ++++
  "       |*|    |*|                    ++++
           \\*\\  /*/         ,           ++++
                                        ++++
   .                      /          <<<____>>>>>>
                               <<<<<<<<<____>>>>>>>>
      ^                     <<<<<<<<<<<<____>>>>>>>>
                                 <<<<<<<____<<<<<<<<
    ]                    =       <<<<<  ____     <<<
                                 <<<<<  ____     <<<
  .                     @ @      <<<<<  ____     <<<
  **   .                | |      <<<<<<<____<<<<<<<<
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<____<<<<<<<<
  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
""",
        """
           ++++++++++++++++++++++++.....
              ||      '''''+++++++++++++++
    ,         ||               '''+++++++++
     ,        ||        #            ++++++
              ||                        ++++
           /*/  \\*\\          .          ++++
  "       |*|    |*|                    ++++
           \\*\\  /*/         ,           ++++
              **                        ++++
   .                      /          <<<____>>>>>>
                               <<<<<<<<<____>>>>>>>>
      ^                     <<<<<<<<<<<<____>>>>>>>>
                                 <<<<<<<____<<<<<<<<
    ]                    =       <<<<<  ____     <<<
                                 <<<<<  ____     <<<
  .                     @ @      <<<<<  ____     <<<
  **   .                | |      <<<<<<<____<<<<<<<<
<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<____<<<<<<<<
  >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
""",
        """
           ++++++++++++++++++++++++.....
              ||      '''''+++++++++++++++
    ,         ||               '''+++++++++
     ,        ||        #            ++++++
              ||                        ++++
           /*/  \\*\\          .          ++++
  "       |*|    |*|                    ++++
           \\*\\  /*/         ,           ++++
              **                        ++++
   .     ************     /          <<<____>>>>>>
            ''**''             <<<<<<<<<____>>>>>>>>
      ^                     <<<<<<<<<<<<____>>>>>>>>
                                 <<<<<<<____<<<<<<<<
    ]                    =       <<<<<  ____     <<<
                                 <<<<<  ____     <<<
  .                     @ @      <<<<<  ____     <<<
  **   .                | |      <<<<<<<____<<<<<<<<
 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<____<<<<<<<<
   >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
""",
        """
           ++++++++++++++++++++++++.....
              ||      '''''+++++++++++++++
    ,         ||               '''+++++++++
     ,        ||        #            ++++++
              ||                        ++++
           /*/  \\*\\          .          ++++
  "       |*|    |*|                    ++++
           \\*\\  /*/         ,           ++++
              **                        ++++
   .     ************     /          <<<____>>>>>>
            ''**''             <<<<<<<<<____>>>>>>>>
      ^      |**|           <<<<<<<<<<<<____>>>>>>>>
            .*^^*.               <<<<<<<____<<<<<<<<
    ]                    =       <<<<<  ____     <<<
                                 <<<<<  ____     <<<
  .                     @ @      <<<<<  ____     <<<
  **   .                | |      <<<<<<<____<<<<<<<<
 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<____<<<<<<<<
   >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
""",
        """
           ++++++++++++++++++++++++.....
              ||      '''''+++++++++++++++
    ,         ||               '''+++++++++
     ,        ||        #            ++++++
              ||                        ++++
           /*/  \\*\\          .          ++++
  "       |*|    |*|                    ++++
           \\*\\  /*/         ,           ++++
              **                        ++++
   .     ************     /          <<<____>>>>>>
            ''**''             <<<<<<<<<____>>>>>>>>
      ^      |**|           <<<<<<<<<<<<____>>>>>>>>
            .*^^*.               <<<<<<<____<<<<<<<<
    ]      .*'  '*.      =       <<<<<  ____     <<<
           *|    |*              <<<<<  ____     <<<
  .                     @ @      <<<<<  ____     <<<
  **   .                | |      <<<<<<<____<<<<<<<<
 <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<____<<<<<<<<
   >>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
"""
    };

    private final int[] indexes;
    private int rendered;

    @SuppressWarnings("MagicNumber")
    public ArtRenderer(final int levels) {
        indexes = switch (levels) {
            case 2 -> new int[] {0, 3, 6};
            case 3 -> new int[] {0, 2, 4, 6};
            case 4 -> new int[] {0, 1, 2, 4, 6};
            case 5 -> new int[] {0, 1, 2, 3, 4, 6};
            case 6 -> new int[] {0, 1, 2, 3, 4, 5, 6};
            default -> new int[] {0, 6};
        };
    }

    @Override
    public boolean hasNext() {
        return rendered < indexes.length;
    }

    @Override
    public String next() {
        if (!hasNext()) {
            throw new NoSuchElementException("No more renders");
        }
        var frame = current();
        rendered++;
        return frame;
    }

    @Override
    public String current() {
        return FRAMES[indexes[rendered]];
    }

    @Override
    public void moveToLast() {
        rendered = indexes.length - 1;
    }
}
